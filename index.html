<html>
<head>
    <title>Missões de clã</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body style="font-size: 40px; text-align:center;">
    
<h1>Missões de clã</h1>
    Quantidade de missões: <input type="number" id="qtd_missao" name="tentacles" min="3" max="8" value="7" onchange="atualizar_valores()"/>
<p style="font-size: 15px; text-align:center;">Primeira coluna de seleção é para marcar a última missão concluída e deixar em destaque os operadores desta missão.<br>
Segunda coluna de seleção é para ignorar a missão no momento de criar a lista de operadores.<p>
  

<!-- 
https://www.bestcssbuttongenerator.com/#/38
-->

<form id="teste">
      <br><span id="miss1">Missão 1</span>:
      <select id="missao1" name="missao1">
        <option value="-">-------</option>
        <option value="BAIONETA">BAIONETA</option>
        <option value="BASICA" >BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA">COBERTURA</option>
        <option value="DEMONSTRAÇÃO">DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO">MARTELO</option>
        <option value="RECONHECIMENTO">RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM">SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO" selected>SOMENTE RARO</option>
      </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check1" name="concluida" value="1" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check21" name="concluida" value="21" />
      <br><br><span id="miss2">Missão 2</span>:
      <select id="missao2" name="missao2">
        <option value="-">-------</option>
        <option value="BAIONETA">BAIONETA</option>
        <option value="BASICA">BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA" selected>COBERTURA</option>
        <option value="DEMONSTRAÇÃO">DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO">MARTELO</option>
        <option value="RECONHECIMENTO">RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM" >SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO">SOMENTE RARO</option>
    </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check2" name="concluida" value="2" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check22" name="concluida" value="22" />
      <br><br><span id="miss3">Missão 3</span>:
      <select id="missao3" name="missao3">
        <option value="-">-------</option>
        <option value="BAIONETA">BAIONETA</option>
        <option value="BASICA">BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA">COBERTURA</option>
        <option value="DEMONSTRAÇÃO" selected>DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO">MARTELO</option>
        <option value="RECONHECIMENTO">RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM">SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO">SOMENTE RARO</option>
    </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check3" name="concluida" value="3"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check23" name="concluida" value="23" />
      <br><br><span id="miss4">Missão 4</span>:
      <select id="missao4" name="missao4">
        <option value="-">-------</option>
        <option value="BAIONETA" selected>BAIONETA</option>
        <option value="BASICA">BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA">COBERTURA</option>
        <option value="DEMONSTRAÇÃO">DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO">MARTELO</option>
        <option value="RECONHECIMENTO">RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM">SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO">SOMENTE RARO</option>
    </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check4" name="concluida" value="4" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check24" name="concluida" value="24" />
      <br><br><span id="miss5">Missão 5</span>:
      <select id="missao5" name="missao5">
        <option value="-">-------</option>
        <option value="BAIONETA">BAIONETA</option>
        <option value="BASICA">BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA">COBERTURA</option>
        <option value="DEMONSTRAÇÃO">DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO">MARTELO</option>
        <option value="RECONHECIMENTO" selected>RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM">SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO">SOMENTE RARO</option>
    </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check5" name="concluida" value="5" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check25" name="concluida" value="25" />
      <br><br><span id="miss6">Missão 6</span>:
      <select id="missao6" name="missao6">
        <option value="-">-------</option>
        <option value="BAIONETA" >BAIONETA</option>
        <option value="BASICA">BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA">COBERTURA</option>
        <option value="DEMONSTRAÇÃO">DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO">MARTELO</option>
        <option value="RECONHECIMENTO">RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM" selected>SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO">SOMENTE RARO</option>
    </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check6" name="concluida" value="6" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" id="check26" name="concluida" value="26" />
      <br><br><span id="miss7">Missão 7</span>:
      <select id="missao7" name="missao7">
        <option value="-">-------</option>
        <option value="BAIONETA">BAIONETA</option>
        <option value="BASICA">BASICA</option>
        <option value="BRECHA">BRECHA</option>
        <option value="B.S.S">B.S.S</option>
        <option value="COBERTURA">COBERTURA</option>
        <option value="DEMONSTRAÇÃO">DEMONSTRAÇÃO</option>
        <option value="FACA">FACA</option>
        <option value="HABITANTES">HABITANTES</option>
        <option value="HILDR">HILDR</option>
        <option value="LIMPEZA">LIMPEZA</option>
        <option value="LOGISTICA">LOGISTICA</option>
        <option value="MARTELO" selected>MARTELO</option>
        <option value="RECONHECIMENTO" >RECONHECIMENTO</option>
        <option value="SOMENTE COMUM">SOMENTE COMUM</option>
        <option value="SOMENTE INCOMUM">SOMENTE INCOMUM</option>
        <option value="SOMENTE RARO" >SOMENTE RARO</option> 
    </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    
<!--    <input type="checkbox" id="dividir_epicos" name="dividir_epicos" /> Dividir épicos -->
</form>
    <br><a href='#'><div id= 'gerar-btn' class= 'pass-button'>Gerar lista</div></a><br>
    <br>
    <p id="demo"></p>
    <br><a href='#'><div id= 'copiar-btn' class= 'pass-button'>Copiar lista</div></a><br><br><br><br>

    </body>
</html>
<script>
carregar_missoes();

function atualizar_valores() {
    document.getElementById('check21').checked = false; // Set the radio button to checked myRadio.checked = true;
    document.getElementById('check22').checked = false; // Set the radio button to checked myRadio.checked = true;
    document.getElementById('check23').checked = false; // Set the radio button to checked myRadio.checked = true;
    document.getElementById('check24').checked = false; // Set the radio button to checked myRadio.checked = true;
    document.getElementById('check25').checked = false; // Set the radio button to checked myRadio.checked = true;

    const inputValue = document.getElementById("qtd_missao").value;
    document.getElementById("miss7").innerHTML = "Missão " + inputValue;
    document.getElementById("miss6").innerHTML = "Missão " + (inputValue-1);
    document.getElementById("miss5").innerHTML = "Missão " + (inputValue-2);
    if ((inputValue-3) <= 0){
        document.getElementById("miss4").innerHTML = "Sem missão";
        if ((inputValue-3) == 0){
            document.getElementById('check24').checked = true; // Set the radio button to checked myRadio.checked = true;
        }
    } else {
        document.getElementById("miss4").innerHTML = "Missão " + (inputValue-3);
    }
    if ((inputValue-4) <= 0){
        document.getElementById("miss3").innerHTML = "Sem missão";
        if ((inputValue-4) == 0){
            document.getElementById('check23').checked = true; // Set the radio button to checked myRadio.checked = true;
        }
    } else {
        document.getElementById("miss3").innerHTML = "Missão " + (inputValue-4);
    }
    if ((inputValue-5) <= 0){
        document.getElementById("miss2").innerHTML = "Sem missão";
        if ((inputValue-5) == 0){
            document.getElementById('check22').checked = true; // Set the radio button to checked myRadio.checked = true;
        }
    } else {
        document.getElementById("miss2").innerHTML = "Missão " + (inputValue-5);
    }
    if ((inputValue-6) <= 0){
        document.getElementById("miss1").innerHTML = "Sem missão";
        if ((inputValue-6) == 0){
            document.getElementById('check21').checked = true; // Set the radio button to checked myRadio.checked = true;
        }
    } else {
        document.getElementById("miss1").innerHTML = "Missão " + (inputValue-6);
    }


}

if(document.getElementById("gerar-btn") != null){
    document.getElementById("gerar-btn").addEventListener("click", enviar);
}
if(document.getElementById("copiar-btn") != null){
    document.getElementById("copiar-btn").addEventListener("click", copiarTexto);
}


    document.getElementById('copiar-btn').style.visibility = 'hidden';

    arrTodasMissoes = ['BAIONETA', 'BASICA', 'BRECHA', 'B.S.S', 'COBERTURA', 'DEMONSTRAÇÃO', 'FACA', 'HABITANTES', 'HILDR', 'LIMPEZA', 'LOGISTICA', 'MARTELO', 'RECONHECIMENTO', 'SOMENTE COMUM', 'SOMENTE INCOMUM', 'SOMENTE RARO']
    arrTodasMissoesTraduzidas = ['BAIONETA/BAYONETA/BAYONET', 'M. BÁSICA/MISIÓN BÁSICA/BASIC MISSION', 'BRECHA/INFRACCIÓN/BREACH', 'B.S.S./B.S.S./B.S.S.', 'COBERTURA/COBERTURA/COVER', 'DEMONSTRAÇÃO/CONFRONTACIÓN/SHOWDOWN', 'FACA/CUCHILLO/KNIFE', 'HABITANTES/LUGAREÑOS/LOCALS', 'HILDR/HILDR/HILDR', 'LIMPEZA/LIMPIEZA/CLEANUP', 'LOGÍSTICA/LOGÍSTICA/LOGISTIC', 'MARTELO/MARTILLO/HAMMER', 'RECONHECIMENTO/RECONOCIMIENTO/RECON', 'SOMENTE COMUM', 'S. INCOMUM/SOLO POCO COMUNES/UNCOMMON ONLY', 'S. RARO/SOLO RAROS/RARE ONLY']
    
    arrTodosOperadores = ['Rookie', 'Rick', 'Mishka', 'Lens', 'Boris', 'Klaus', 'Shi', 'Victor', 'Travis', 'Batya', 'Thor', 'Jason', 'Capisce', 'Joe', 'Syndrome', 'Valera', 'Varg', 'David', 'Spencer', 'McMean', 'Hawk', 'Owen', 'Diana', 'Miro', 'JB', 'Charon', 'Snek', 'Chen Li', 'Zloy', 'Dutch', 'Moses', 'Ray', 'Fênix', 'Dmitry', 'Apollo', 'Whisper'];
    arrTodosOperadoresHTML = ['Rookie', 'Rick', 'Mishka', 'Lens', 
    '<span style="color: #3333FF">Boris</span>', '<span style="color: #3333FF">Klaus</span>', '<span style="color: #3333FF">Shi</span>', '<span style="color: #3333FF">Victor</span>', '<span style="color: #3333FF">Travis</span>', '<span style="color: #3333FF">Batya</span>', 
    '<span style="color: #9400D3">Thor</span>','<span style="color: #9400D3">Jason</span>', '<span style="color: #9400D3">Capisce</span>', '<span style="color: #9400D3">Joe</span>', '<span style="color: #9400D3">Syndrome</span>', '<span style="color: #9400D3">Valera</span>', '<span style="color: #9400D3">Varg</span>', '<span style="color: #9400D3">David</span>', '<span style="color: #9400D3">Spencer</span>', '<span style="color: #9400D3">McMean</span>', '<span style="color: #9400D3">Hawk</span>', '<span style="color: #9400D3">Owen</span>',
'<span style="color: #DAA520">Diana</span>',
'<span style="color: #DAA520">Miro</span>',
'<span style="color: #DAA520">JB</span>',
'<span style="color: #DAA520">Charon</span>',
'<span style="color: #DAA520">Snek</span>',
'<span style="color: #DAA520">Chen Li</span>',
'<span style="color: #DAA520">Zloy</span>',
'<span style="color: #DAA520">Dutch</span>',
'<span style="color: #DAA520">Moses</span>',
'<span style="color: #DAA520">Ray</span>',
'<span style="color: #DAA520">Fênix</span>',
'<span style="color: #DAA520">Dmitry</span>',
'<span style="color: #DAA520">Apollo</span>',
'<span style="color: #DAA520">Whisper</span>'
    ];

    arrPontos = [];
arrPontos.push([157, 243, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 0, 157, 157]); //Rookie
arrPontos.push([157, 243, 157, 157, 286, 157, 268, 157, 157, 157, 157, 268, 157, 0, 157, 157]); //Rick
arrPontos.push([157, 243, 157, 157, 157, 268, 157, 268, 157, 157, 157, 157, 157, 0, 157, 157]); //Mishka
arrPontos.push([229, 195, 126, 215, 126, 236, 126, 126, 126, 229, 126, 126, 126, 0, 126, 126]); //Lens
arrPontos.push([203, 311, 203, 199, 203, 199, 351, 199, 199, 203, 352, 351, 203, 0, 351, 199]); //Boris
arrPontos.push([191, 293, 191, 186, 191, 186, 331, 186, 186, 191, 191, 331, 331, 0, 331, 186]); //Klaus
arrPontos.push([191, 293, 191, 186, 191, 186, 331, 186, 186, 191, 331, 331, 191, 0, 331, 186]); //Shi
arrPontos.push([191, 293, 331, 186, 191, 186, 186, 186, 186, 191, 331, 331, 191, 0, 331, 186]); //Victor
arrPontos.push([325, 288, 188, 183, 325, 183, 183, 183, 183, 188, 188, 183, 325, 0, 325, 183]); //Travis
arrPontos.push([188, 288, 188, 183, 188, 325, 183, 325, 183, 188, 188, 183, 188, 0, 325, 183]); //Batya
arrPontos.push([350, 306, 197, 198, 197, 198, 198, 198, 358, 350, 197, 198, 197, 0, 198, 358]); //Thor
arrPontos.push([337, 294, 189, 345, 189, 190, 190, 190, 345, 189, 337, 190, 189, 0, 190, 339]); //Jason
arrPontos.push([184, 286, 184, 184, 184, 336, 184, 336, 184, 184, 184, 336, 184, 0, 184, 336]); //Capisce
arrPontos.push([184, 286, 184, 184, 327, 184, 184, 336, 184, 327, 184, 184, 184, 0, 184, 336]); //Joe
arrPontos.push([184, 286, 327, 184, 184, 184, 184, 336, 184, 184, 184, 336, 184, 0, 184, 336]); //Syndrome
arrPontos.push([327, 286, 184, 184, 327, 336, 184, 184, 184, 184, 184, 184, 184, 0, 184, 336]); //Valera
arrPontos.push([184, 286, 184, 184, 184, 184, 336, 184, 336, 184, 184, 184, 184, 0, 184, 336]); //Varg
arrPontos.push([184, 286, 327, 336, 184, 184, 336, 184, 184, 184, 184, 184, 184, 0, 184, 336]); //David
arrPontos.push([323, 282, 181, 330, 181, 182, 182, 182, 182, 181, 191, 182, 323, 0, 182, 330]); //Spencer
arrPontos.push([162, 253, 162, 163, 162, 163, 296, 163, 163, 289, 162, 296, 162, 0, 163, 296]); //McMean
arrPontos.push([164, 252, 164, 160, 285, 160, 160, 285, 160, 164, 164, 160, 285, 0, 285, 160]); //Hawk
arrPontos.push([151, 236, 151, 151, 151, 151, 276, 151, 151, 151, 151, 151, 151, 0, 151, 276]); //Owen
arrPontos.push([280, 433, 280, 490, 280, 280, 280, 280, 280, 496, 280, 280, 280, 0, 280, 280]); //Diana
arrPontos.push([280, 433, 280, 280, 280, 280, 280, 490, 280, 496, 496, 280, 280, 0, 280, 280]); //Miro
arrPontos.push([280, 433, 280, 280, 496, 280, 280, 280, 280, 496, 280, 280, 280, 0, 280, 280]); //JB
arrPontos.push([280, 433, 280, 280, 280, 480, 480, 280, 280, 280, 280, 280, 486, 0, 280, 280]); //Charon
arrPontos.push([265, 410, 265, 265, 265, 265, 265, 265, 265, 470, 265, 276, 470, 0, 265, 265]); //Snek
arrPontos.push([454, 396, 256, 257, 256, 257, 257, 257, 257, 256, 454, 257, 256, 0, 257, 257]); //Chen Li
arrPontos.push([250, 386, 443, 250, 250, 438, 250, 250, 250, 250, 250, 250, 250, 0, 250, 250]); //Zloy
arrPontos.push([225, 348, 399, 225, 399, 225, 225, 225, 225, 225, 225, 225, 225, 0, 225, 225]); //Dutch
arrPontos.push([225, 348, 399, 394, 225, 225, 225, 225, 225, 225, 225, 225, 225, 0, 225, 225]); //Moses
arrPontos.push([212, 328, 212, 212, 376, 212, 212, 212, 212, 212, 212, 212, 376, 0, 212, 212]); //Ray
arrPontos.push([209, 323, 209, 209, 370, 209, 209, 209, 209, 209, 370, 209, 209, 0, 209, 209]); //Fênix
arrPontos.push([209, 323, 370, 209, 209, 209, 366, 209, 209, 209, 209, 209, 209, 0, 209, 209]); //Dmitry
arrPontos.push([195, 302, 195, 195, 195, 195, 195, 195, 195, 195, 347, 195, 347, 0, 195, 195]); //Apollo
arrPontos.push([133, 206, 133, 133, 133, 133, 133, 133, 233, 133, 133, 133, 236, 0, 133, 133]); //Sussurro 
//    arrThorAtual = [];

posicao_check_missao_concluida = -1;

function enviar(){

//    dividir_epicos = document.getElementById("dividir_epicos").checked;
    arrMissoesAtuais = [];
    check_concluida = false;
    if (document.getElementById("missao7").value != '-'){
        arrMissoesAtuais.push(document.getElementById("missao7").value);
        if ((document.getElementById("missao6").value != '-') && (!check_concluida)){
            arrMissoesAtuais.push(document.getElementById("missao6").value);
            if (getCheck(6)){
            //    check_concluida = true;
                posicao_check_missao_concluida = 6;
            }
            if ((document.getElementById("missao5").value != '-') && (!check_concluida)){
                arrMissoesAtuais.push(document.getElementById("missao5").value);
                if (getCheck(5)){
                //    check_concluida = true;
                    posicao_check_missao_concluida = 5;
                }
                if ((document.getElementById("missao4").value != '-') && (!check_concluida)){
                    arrMissoesAtuais.push(document.getElementById("missao4").value);
                    if (getCheck(4)){
                    //    check_concluida = true;
                        posicao_check_missao_concluida = 4;
                    }
                    if ((document.getElementById("missao3").value != '-') && (!check_concluida)){
                        arrMissoesAtuais.push(document.getElementById("missao3").value);
                        if (getCheck(3)){
                        //    check_concluida = true;
                            posicao_check_missao_concluida = 3;
                        }
                        if ((document.getElementById("missao2").value != '-') && (!check_concluida)){
                            arrMissoesAtuais.push(document.getElementById("missao2").value);
                            if (getCheck(2)){
                            //    check_concluida = true;
                                posicao_check_missao_concluida = 2;
                            }
                            if ((document.getElementById("missao1").value != '-') && (!check_concluida)){
                                arrMissoesAtuais.push(document.getElementById("missao1").value);
                                if (getCheck(1)){
                                //    check_concluida = true;
                                    posicao_check_missao_concluida = 1;
                                }
                            }
                        }
                    }
                }
            }
        }
    } else {
        alert ("Selecione ao menos a missão 7!")
    }

//    qtd_missao_desconsiderar = 0;

    if(document.getElementById("check21").checked){
        arrMissoesAtuais.splice(6,1); // .splice(posicao, quantidade)
    } else if(document.getElementById("check22").checked){
        arrMissoesAtuais.splice(5,2); // .splice(posicao, quantidade)
    } else if(document.getElementById("check23").checked){
        arrMissoesAtuais.splice(4,3); // .splice(posicao, quantidade)
    } else if(document.getElementById("check24").checked){
        arrMissoesAtuais.splice(3,4); // .splice(posicao, quantidade)
    } else if(document.getElementById("check25").checked){
        arrMissoesAtuais.splice(2,5); // .splice(posicao, quantidade)
    } else if(document.getElementById("check26").checked){
        arrMissoesAtuais.splice(1,6); // .splice(posicao, quantidade)
    }

operadores_negrito = [];

if (posicao_check_missao_concluida > 0){

    pos_inicial_cortar = 8 - posicao_check_missao_concluida;
    quantidade_cortar = posicao_check_missao_concluida - 1;
    console.log("arrMissoesAtuais " + arrMissoesAtuais);
    arrMissoesAtuais.splice(pos_inicial_cortar,posicao_check_missao_concluida); // .splice(posicao, quantidade)
    console.log("arrMissoesAtuais " + arrMissoesAtuais);
    console.log("pos_inicial_cortar " + pos_inicial_cortar);
    console.log("posicao_check_missao_concluida " + posicao_check_missao_concluida);
    
    operadores_negrito = deixar_negrito_operadores_ultima_missao(arrPontos, arrTodasMissoes, arrMissoesAtuais);


    console.log("operadores_negrito = " + operadores_negrito)
    console.log("arrMissoesAtuais--------- " + arrMissoesAtuais);
    arrMissoesAtuais.pop();
    console.log("arrMissoesAtuais--------- " + arrMissoesAtuais);
}

    arrPontosAtuaisTodosOp = [];
    arrPontosAtuaisTodosOp = pontos_das_missoes_para_cada_operador(arrPontos, arrTodasMissoes, arrMissoesAtuais);

    listaFinal = [];    
    listaFinal = organizar_missao_para_cada_operador(arrPontosAtuaisTodosOp);

    console.log("--------");
    console.log("--------");

    resultadoFinal = "<b>*DISTRIBUIÇÃO DE OPERADORES*</b><br><br>MISSÕES CONCLUÍDAS ";

    for (j = 1; j < (7-arrMissoesAtuais.length+1); j++){
        resultadoFinal += j + "/";
    }

    resultadoFinal += "<br>";

// Apresentação final em tela
    num_missao = 0;
    for (j = arrMissoesAtuais.length-1; j >= 0; j--){
        console.log("--------");
        console.log(arrMissoesAtuais[j]);
        num_missao = document.getElementById("qtd_missao").value - j;
//        resultadoFinal +=  "<br>*" + num_missao + " - "+ arrMissoesAtuais[j] + "*<br>";
        resultadoFinal +=  "<br>*" + num_missao + " - "+ buscar_missao_traduzida(arrMissoesAtuais[j], arrTodasMissoes, arrTodasMissoesTraduzidas) + "*<br>"; 
        for (i = 0; i < listaFinal.length; i++){
            if(j == listaFinal[i][2]){
                found = operadores_negrito.find(element => element == listaFinal[i][1]);
                if (found > -1){
                    console.log(found + " found <b>" + arrMissoesAtuais[listaFinal[i][2]] +" " + arrTodosOperadores[listaFinal[i][1]] +" (" + listaFinal[i][0] + ")</b>");
                    resultadoFinal += "<b> *" + arrTodosOperadoresHTML[listaFinal[i][1]] +" (" + listaFinal[i][0] + ")* </b>🫡<br>";
                } else {
                    console.log(arrMissoesAtuais[listaFinal[i][2]] +" " + arrTodosOperadores[listaFinal[i][1]] +" (" + listaFinal[i][0] + ")");
                    resultadoFinal += arrTodosOperadoresHTML[listaFinal[i][1]] +" (" + listaFinal[i][0] + ")<br>";
                }
            }
        }
//        if ((dividir_epicos) && (j == 1)){
//            resultadoFinal += "<br>*<b><span style='color: #DAA520'>+ METADE DOS ÉPICOS 👈⚠️</span> (200)</b>* <br>";
//        }
    }
    
    
//    if (dividir_epicos){
//        resultadoFinal += "<br>*<b><span style='color: #DAA520'>+ METADE DOS ÉPICOS 👈⚠️</span> (200)</b>* <br>";
//    } else {
//        resultadoFinal += "<br>*<b><span style='color: #DAA520'>+ ÉPICOS</span> (200)</b>* <br>";
//    }
    document.getElementById("demo").innerHTML = resultadoFinal;

    document.getElementById('copiar-btn').style.visibility = 'visible';

//    if(teste_admin()){
        salvar_missoes();
//    }
}

function salvar_missoes(){
        $.ajax({
            url: 'arquivo.php',
            method: 'POST',
            data: $('#teste').serialize(),
            success: function(result) {console.log("Thanks!"); },
            error: function(result) {console.log("Error!");}
        });
}

function teste_admin(){
    var url_string = window.location;
    var url = new URL(url_string);
    var admin = url.searchParams.get("admin");
    if (admin != null){
        return true;
    }
    return false;
}

function buscar_missao_traduzida(nomeMissao, arrTodasMissoes, arrTodasMissoesTraduzidas){
    posicao_traduzir = arrTodasMissoes.indexOf(nomeMissao);
    return arrTodasMissoesTraduzidas[posicao_traduzir];
}

function deixar_negrito_operadores_ultima_missao(arrPontos, arrTodasMissoes, arrMissoesAtuais){

    arrPontosAtuaisTodosOp = [];
    arrPontosAtuaisTodosOp = pontos_das_missoes_para_cada_operador(arrPontos, arrTodasMissoes, arrMissoesAtuais);

    listaFinal = [];    
    listaFinal = organizar_missao_para_cada_operador(arrPontosAtuaisTodosOp);

    console.log("--------");
    console.log("--------");
    
//    console.log(pegar_operadores_ultima_missao_concluida(listaFinal)); 
    return pegar_operadores_ultima_missao_concluida(listaFinal);
}

function sortFunction(a, b) {
    if (a[0] === b[0]) {
        return 0;
    }
    else {
        return (a[0] > b[0]) ? -1 : 1;
    }
}


function copiarTexto() {
    var text = document.getElementById("demo").innerText;
    var elem = document.createElement("textarea");
    document.body.appendChild(elem);
    elem.value = text;
    elem.select();
    document.execCommand("copy");
    document.body.removeChild(elem);
}

function pegar_operadores_ultima_missao_concluida(listaFinal){
    pos_ultima_missao = 7 - posicao_check_missao_concluida;   
    operadores_negrito = [];
    
    if(posicao_check_missao_concluida){
        for (i = 0; i < listaFinal.length; i++){
            if(pos_ultima_missao == listaFinal[i][2]){
                operadores_negrito.push(listaFinal[i][1]);
            }
        }
    }
    return operadores_negrito;            
}

function getCheck(testar){
    console.log(document.getElementById("check"+testar).checked);
    return document.getElementById("check"+testar).checked;
}


function organizar_missao_para_cada_operador(arrPontosAtuaisTodosOp){
    for (j = 0; j < arrPontosAtuaisTodosOp.length; j++){
        maxPontos = 0;
        posMissao = -1;
        for (i = 0; i < arrPontosAtuaisTodosOp[j].length; i++){
            if(arrPontosAtuaisTodosOp[j][i] > maxPontos){
                maxPontos = arrPontosAtuaisTodosOp[j][i];
                posMissao = i;
//                console.log("-- TROCOU = " + maxPontos);
            }
        }         
        listaFinal.push([maxPontos, j, posMissao]);
    }
    listaFinal.sort(sortFunction);
    return listaFinal;
}

function pontos_das_missoes_para_cada_operador(arrPontos, arrTodasMissoes, arrMissoesAtuais){
    arrPontosAtuaisTodosOp = [];

    for (i = 0; i < arrPontos.length; i++){
        arrPontosAtuais = [];
        let numCallbackRuns = 0;
        arrMissoesAtuais.forEach((element) => {
//            console.log(arrTodasMissoes.indexOf(element)); 
//            console.log({ element });
            arrPontosAtuais.push(arrPontos[i][arrTodasMissoes.indexOf(element)]);
            numCallbackRuns++;
        });
        arrPontosAtuaisTodosOp.push(arrPontosAtuais);
    }
    return arrPontosAtuaisTodosOp;
}

function update_data_form(data){
    document.getElementById('missao1').value = data[0].missao1;
    document.getElementById('missao2').value = data[0].missao2;
    document.getElementById('missao3').value = data[0].missao3;
    document.getElementById('missao4').value = data[0].missao4;
    document.getElementById('missao5').value = data[0].missao5;
    document.getElementById('missao6').value = data[0].missao6;
    document.getElementById('missao7').value = data[0].missao7;
    document.getElementById("check"+data[0].concluida).checked = true;
}

function carregar_missoes(){
    $(document).ready(function(){
        $.ajax({
            type:'GET',
            url: 'arquivo.php',
            dataType: 'JSON',
            success: function (data){
                update_data_form(data);
            },
            error: function(response) {
                console.log('ERROR BLOCK');
                console.log(response);
            }
        });
    });
}


</script>